# 2017年360前端星计划作业

## 前言

接到360前端星计划的作业之后，迅速在脑海里考虑用什么方法实现。`HTML5 Canvas` 对现代浏览器的支持还好，而且适合这种实时性图形工作，所以技术实现用 `Canvas`  

## 实现技术

* HTML5 Canvas

## 原理

主要是对 `Canvas` 的应用，下面具体说下：

* 初始化，通过对尺寸规律的观察，可以轻松循环的画出9个圆，同时把位置信息记录到 `queue` 队列中

* 为画布绑定 `touchstart`, `touchmove`, `touchstart` 三个触摸事件：

1. `touchstart`: 判断是否触摸到圆形，触摸到则重绘圆，同时把当前圆在 `queue` 的位置记录到 `save` 队列中
 
2. `touchmove`: 不断判断当前位置是否触摸到圆形，更新 `Canvas` 到初始帧，并遍历 `save` 队列和 `queue` 队列更新绘制的直线帧

3. `touchend`: 判断是设置密码还是验证密码，并更新到初始帧

* 密码设置，维护一个 `pre_save` 队列，用于存储第一次的输入，`save` 队列 存储最后一次也就是第二次的输入，通过判断 `pre_save` 的元素是否等于 `save` 的元素。完全相同，则把密码序列存入 `LocalStorage` 中

* 密码验证，通过读取存储在 `localStorage` 中的密码序列与当前 `save` 序列相比对，判断密码是否正确

## 总结

通过这次作业，熟悉了对 `Canvas` 的应用，锻炼了代码逻辑能力